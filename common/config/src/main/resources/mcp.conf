# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.

# MCP (Model Context Protocol) Service Configuration
mcp {
  # Server settings
  server {
    port = 9098
    port = ${?MCP_PORT}
    name = "texera-mcp"
    version = "1.0.0"
  }

  # Transport protocol: stdio, http, or websocket
  transport = "http"
  transport = ${?MCP_TRANSPORT}

  # Authentication and database
  auth {
    enabled = false
    enabled = ${?MCP_AUTH_ENABLED}
  }

  database {
    enabled = true
    enabled = ${?MCP_DATABASE_ENABLED}
  }

  # MCP Capabilities (following MCP specification)
  capabilities {
    tools = true
    tools = ${?MCP_TOOLS_ENABLED}

    resources = true
    resources = ${?MCP_RESOURCES_ENABLED}

    prompts = true
    prompts = ${?MCP_PROMPTS_ENABLED}

    sampling = false
    sampling = ${?MCP_SAMPLING_ENABLED}

    logging = true
    logging = ${?MCP_LOGGING_ENABLED}
  }

  # Performance settings
  performance {
    max-concurrent-requests = 100
    max-concurrent-requests = ${?MCP_MAX_CONCURRENT_REQUESTS}

    request-timeout-ms = 30000
    request-timeout-ms = ${?MCP_REQUEST_TIMEOUT_MS}
  }

  # Enabled feature groups
  enabled-tools = ["operators", "workflows", "datasets", "projects", "executions"]
  enabled-tools = ${?MCP_ENABLED_TOOLS}

  enabled-resources = ["operator-schemas", "workflow-templates", "dataset-schemas"]
  enabled-resources = ${?MCP_ENABLED_RESOURCES}

  enabled-prompts = ["create-workflow", "optimize-workflow", "explain-operator"]
  enabled-prompts = ${?MCP_ENABLED_PROMPTS}
}
